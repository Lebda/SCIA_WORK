ID;GeoDef;Command;Parameters;
1;2;NameCoordSys;co1;
2;2;SetCoordSys;cart 0 0 0 0 0 0 0 0 0;
3;2;AddCoordSys;Set;
4;2;Var xu;l/(n+m);
5;2;Var zu;hu/n;
6;2;Var xb;xu;
7;2;Var zb;hd/n;
8;2;SetPoint;CoordSys @ 0 0 0;
9;2;NamePoint;u1;
10;2;AddPoint;0 0 0;
11;2;Input 1 r*i;[xu]*[n];
12;2;Input 2 r*i simple;0;
13;2;Input 3 r*i simple;[zu]*[n];
14;2;Input 1 r*i;[xu]*[m];
15;2;Input 2 r*i simple;0;
16;2;Input 3 r*i simple;[-zu]*[m];
17;2;AddPoint;Input;
18;2;NamePoint;b1;
19;2;AddPoint;0 0 [-h];
20;2;Input 1 r*i;[xb]*[n];
21;2;Input 2 r*i simple;0;
22;2;Input 3 r*i simple;[zb]*[n];
23;2;Input 1 r*i;[xb]*[m];
24;2;Input 2 r*i simple;0;
25;2;Input 3 r*i simple;[-zb]*[m];
26;2;AddPoint;Input;
27;3;NameCoordSys;co1;
28;3;SetCoordSys;cart 0 0 0 0 0 0 0 0 0;
29;3;AddCoordSys;Set;
30;3;Var xu;l/(n+m);
31;3;Var zu;hu/n;
32;3;Var a;sqr(xu^2+zu^2);
33;3;Var x1b;h*zu/a;
34;3;Var z1b;h*xu/a;
35;3;Var c;a^2/xu;
36;3;Var tanA;hd/(xu*n-x1b);
37;3;If hu <>;0;
38;3;Var tanB;zu/(c-xu);
39;3;Var xb;c*tanB/(tanA+tanB);
40;3;endIf; ;
41;3;If hu =;0;
42;3;Var xb;xu;
43;3;endIf; ;
44;3;Var zb;xb*tanA;
45;3;Var xn;xu*n-x1b-xb*(n-1);
46;3;Var zn;xn*tanA;
47;3;SetPoint;CoordSys @ 0 0 0;
48;3;NamePoint;u1;
49;3;AddPoint;0 0 0;
50;3;Input 1 r*i;[xu]*[n];
51;3;Input 2 r*i simple;0;
52;3;Input 3 r*i simple;[zu]*[n];
53;3;Input 1 r*i;[xu]*[m];
54;3;Input 2 r*i simple;0;
55;3;Input 3 r*i simple;[-zu]*[m];
56;3;AddPoint;Input;
57;3;NamePoint;b1;
58;3;AddPoint;[x1b] 0 [-z1b];
59;3;If n >;1;
60;3;Input 1 r*i;[xb]*[n-1];
61;3;Input 2 r*i simple;0;
62;3;Input 3 r*i simple;[zb]*[n-1];
63;3;endIf; ;
64;3;Input 1 r*i;[xn];
65;3;Input 2 r*i simple;0;
66;3;Input 3 r*i simple;[zn];
67;3;Input 1 r*i;[xn];
68;3;Input 2 r*i simple;0;
69;3;Input 3 r*i simple;[-zn];
70;3;If m >;1;
71;3;Input 1 r*i;[xb]*[m-1];
72;3;Input 2 r*i simple;0;
73;3;Input 3 r*i simple;[-zb]*[m-1];
74;3;endIf;Input;
75;3;AddPoint;Input;
76;4;NameCoordSys;co1;
77;4;SetCoordSys;cylin 0 0 0 0 0 0 0 0 90;
78;4;AddCoordSys;Set;
79;4;Var f;(-fi)/(n+m);
80;4;SetPoint;CoordSys @ 0 0 0;
81;4;NamePoint;u1;
82;4;AddPoint;[ru] [90-f*n] 0;
83;4;Input 1 r*i;0;
84;4;Input 2 r*i simple;[f]*[n+m];
85;4;Input 3 r*i simple;0;
86;4;AddPoint;Input;
87;4;NamePoint;b1;
88;4;AddPoint;[rd] [90-f*n] 0;
89;4;Input 1 r*i;0;
90;4;Input 2 r*i simple;[f]*[n+m];
91;4;Input 3 r*i simple;0;
92;4;AddPoint;Input;
93;5;NameCoordSys;co1;
94;5;SetCoordSys;cart 0 0 0 0 0 0 0 0 0;
95;5;AddCoordSys;Set;
96;5;Var xu;l/(n+m);
97;5;Var xb;xu;
98;5;Var zu;hu/n;
99;5;Var aa;xu;
100;5;Var zb;hd/n;
101;5;Var xm;xu;
102;5;Var zm;(hu+hd)/(2*n);
103;5;SetPoint;CoordSys @ 0 0 0;
104;5;NamePoint;u1;
105;5;AddPoint;0 0 0;
106;5;Input 1 r*i;[xu]*[n];
107;5;Input 2 r*i simple;0;
108;5;Input 3 r*i simple;[zu]*[n];
109;5;Input 1 r*i;[xu]*[m];
110;5;Input 2 r*i simple;0;
111;5;Input 3 r*i simple;[-zu]*[m];
112;5;AddPoint;Input;
113;5;NamePoint;b1;
114;5;AddPoint;0 0 [-h];
115;5;Input 1 r*i;[xb]*[n];
116;5;Input 2 r*i simple;0;
117;5;Input 3 r*i simple;[zb]*[n];
118;5;Input 1 r*i;[xb]*[m];
119;5;Input 2 r*i simple;0;
120;5;Input 3 r*i simple;[-zb]*[m];
121;5;AddPoint;Input;
122;5;NamePoint;m1;
123;5;AddPoint;0 0 [-h/2];
124;5;Input 1 r*i;[xm]*[n];
125;5;Input 2 r*i simple;0;
126;5;Input 3 r*i simple;[zm]*[n];
127;5;Input 1 r*i;[xm]*[m];
128;5;Input 2 r*i simple;0;
129;5;Input 3 r*i simple;[-zm]*[m];
130;5;AddPoint;Input;
131;6;NameCoordSys;co1;
132;6;SetCoordSys;cart 0 0 0 0 0 0 0 0 0;
133;6;AddCoordSys;Set;
134;6;Var xu;l/(n+m);
135;6;Var zu;hu/n;
136;6;Var a;sqr(xu^2+zu^2);
137;6;Var x1b;h*zu/a;
138;6;Var z1b;h*xu/a;
139;6;Var c;a^2/xu;
140;6;Var tanA;hd/(xu*n-x1b);
141;6;If hu <>;0;
145;6;Var tanB;zu/(c-xu);
146;6;Var xb;c*tanB/(tanA+tanB);
147;6;endIf; ;
148;6;If hu =;0;
149;6;Var xb;xu;
150;6;endIf; ;
151;6;Var zb;xb*tanA;
152;6;Var xn;xu*n-x1b-xb*(n-1);
153;6;Var zn;xn*tanA;
154;6;Var x1m;x1b/2;
155;6;Var z1m;z1b/2;
156;6;Var tanC;(hd+hu)/(2*(xu*n-x1m));
157;6;If hu <>;0;
158;6;Var xm;c*tanB/(tanC+tanB);
159;6;endIf; ;
160;6;If hu =;0;
161;6;Var xm;xu;
162;6;endIf; ;
163;6;Var zm;xm*tanC;
164;6;Var xnm;xu*n-x1m-xm*(n-1);
165;6;Var znm;xnm*tanC;
166;6;SetPoint;CoordSys @ 0 0 0;
167;6;NamePoint;u1;
168;6;AddPoint;0 0 0;
169;6;Input 1 r*i;[xu]*[n];
170;6;Input 2 r*i simple;0;
171;6;Input 3 r*i simple;[zu]*[n];
172;6;Input 1 r*i;[xu]*[m];
173;6;Input 2 r*i simple;0;
174;6;Input 3 r*i simple;[-zu]*[m];
175;6;AddPoint;Input;
176;6;NamePoint;b1;
177;6;AddPoint;[x1b] 0 [-z1b];
178;6;If n >;1;
179;6;Input 1 r*i;[xb]*[n-1];
180;6;Input 2 r*i simple;0;
181;6;Input 3 r*i simple;[zb]*[n-1];
182;6;endIf; ;
183;6;Input 1 r*i;[xn];
184;6;Input 2 r*i simple;0;
185;6;Input 3 r*i simple;[zn];
186;6;Input 1 r*i;[xn];
187;6;Input 2 r*i simple;0;
188;6;Input 3 r*i simple;[-zn];
189;6;If m >;1;
190;6;Input 1 r*i;[xb]*[m-1];
191;6;Input 2 r*i simple;0;
192;6;Input 3 r*i simple;[-zb]*[m-1];
193;6;endIf; ;
194;6;AddPoint;Input;
195;6;NamePoint;m1;
196;6;AddPoint;[x1m] 0 [-z1m];
197;6;If n >;1;
198;6;Input 1 r*i;[xm]*[n-1];
199;6;Input 2 r*i simple;0;
200;6;Input 3 r*i simple;[zm]*[n-1];
201;6;endIf; ;
202;6;Input 1 r*i;[xnm];
203;6;Input 2 r*i simple;0;
204;6;Input 3 r*i simple;[znm];
205;6;Input 1 r*i;[xnm];
206;6;Input 2 r*i simple;0;
207;6;Input 3 r*i simple;[-znm];
208;6;If m >;0;
209;6;Input 1 r*i;[xm]*[m-1];
210;6;Input 2 r*i simple;0;
211;6;Input 3 r*i simple;[-zm]*[m-1];
212;6;endIf; ;
213;6;AddPoint;Input;
214;7;NameCoordSys;co1;
215;7;SetCoordSys;cylin 0 0 0 0 0 0 0 0 90;
216;7;AddCoordSys;Set;
217;7;Var f;(-fi)/(n+m);
218;7;SetPoint;CoordSys @ 0 0 0;
219;7;NamePoint;u1;
220;7;AddPoint;[ru] [90-f*n] 0;
221;7;Input 1 r*i;0;
222;7;Input 2 r*i simple;[f]*[n+m];
223;7;Input 3 r*i simple;0;
224;7;AddPoint;Input;
225;7;NamePoint;b1;
226;7;AddPoint;[rd] [90-f*n] 0;
227;7;Input 1 r*i;0;
228;7;Input 2 r*i simple;[f]*[n+m];
229;7;Input 3 r*i simple;0;
230;7;AddPoint;Input;
231;7;NamePoint;m1;
232;7;AddPoint;[(rd+ru)/2] [90-f*n] 0;
233;7;Input 1 r*i;0;
234;7;Input 2 r*i simple;[f]*[n+m];
235;7;Input 3 r*i simple;0;
236;7;AddPoint;Input;
237;8;SetLine;0 0 0;
238;8;NameLine;Bu1;
239;8;Input 1 si/i*i;u1/[n+m];
240;8;Input 2 si/i*i simple;u2/[n+m+1];
241;8;AddLine;Input;
242;8;NameLine;Bb1;
243;8;Input 1 si/i*i;b1/[n+m];
244;8;Input 2 si/i*i simple;b2/[n+m+1];
245;8;AddLine;Input;
246;8;NameLine;V1;
247;8;Input 1 si/i*i;b1/[n+m+1];
248;8;Input 2 si/i*i simple;u1/[n+m+1];
249;8;AddLine;Input;
250;8;NameLine;D1;
251;8;Input 1 si/i*i;u1/[n];
252;8;Input 2 si/i*i simple;b2/[n+1];
253;8;Input 1 si/i*i;u[n+2]/[n+m+1];
254;8;Input 2 si/i*i simple;b[n+1]/[n+m];
255;8;AddLine;Input;
256;9;SetLine;0 0 0;
257;9;NameLine;Bu1;
258;9;Input 1 si/i*i;u1/[n+m];
259;9;Input 2 si/i*i simple;u2/[n+m+1];
260;9;NameLine;Bu1;
261;9;Input 1 si/i*i;u1/[n+m];
262;9;Input 2 si/i*i simple;u2/[n+m+1];
263;9;AddLine;Input;
264;9;NameLine;Bb1;
265;9;Input 1 si/i*i;b1/[n+m];
266;9;Input 2 si/i*i simple;b2/[n+m+1];
267;9;AddLine;Input;
268;9;NameLine;V1;
269;9;Input 1 si/i*i;b1/[n+m+1];
270;9;Input 2 si/i*i simple;u1/[n+m+1];
271;9;AddLine;Input;
272;9;NameLine;D1;
273;9;Input 1 si/i*i;u2/[n+1];
274;9;Input 2 si/i*i simple;b1/[n];
275;9;Input 1 si/i*i;u[n+1]/[n+m];
276;9;Input 2 si/i*i simple;b[n+2]/[n+m+1];
277;9;AddLine;Input;
278;10;SetLine;0 0 0;
279;10;NameLine;Bu1;
280;10;Input 1 si/i*i;u1/[n+m];
281;10;Input 2 si/i*i simple;u2/[n+m+1];
282;10;AddLine;Input;
283;10;NameLine;Bb1;
284;10;Input 1 si/i*i;b1/[n+m];
285;10;Input 2 si/i*i simple;b2/[n+m+1];
286;10;AddLine;Input;
287;10;NameLine;V1;
288;10;Input 1 si/i*i;b1/[n+m+1];
289;10;Input 2 si/i*i simple;u1/[n+m+1];
290;10;AddLine;Input;
291;10;NameLine;D1;
292;10;Input 1 si/i*i;u1/[n+m]*2;
301;10;Input 2 si/i*i simple;b2/[n+m+1]*2;
302;10;AddLine;Input;
303;10;NameLine;D101;
304;10;Input 1 si/i*i;u3/[n+m+1]*2;
305;10;Input 2 si/i*i simple;b2/[n+m]*2;
306;10;AddLine;Input;
307;11;SetLine;0 0 0;
308;11;NameLine;Bu1;
309;11;Input 1 si/i*i;u1/[n+m];
310;11;Input 2 si/i*i simple;u2/[n+m+1];
311;11;AddLine;Input;
312;11;NameLine;Bb1;
313;11;Input 1 si/i*i;b1/[n+m];
314;11;Input 2 si/i*i simple;b2/[n+m+1];
315;11;AddLine;Input;
316;11;NameLine;V1;
317;11;Input 1 si/i*i;b1/[n+m+1];
318;11;Input 2 si/i*i simple;u1/[n+m+1];
319;11;AddLine;Input;
320;11;NameLine;D1;
321;11;Input 1 si/i*i;u2/[n+m+1]*2;
322;11;Input 2 si/i*i simple;b1/[n+m]*2;
323;11;AddLine;Input;
324;11;NameLine;D101;
325;11;Input 1 si/i*i;u2/[n+m]*2;
326;11;Input 2 si/i*i simple;b3/[n+m+1]*2;
327;11;AddLine;Input;
328;12;SetLine;0 0 0;
329;12;NameLine;Bu1;
330;12;Input 1 si/i*i;u1/[n+m];
331;12;Input 2 si/i*i simple;u2/[n+m+1];
332;12;AddLine;Input;
333;12;NameLine;Bb1;
334;12;Input 1 si/i*i;b1/[n+m];
335;12;Input 2 si/i*i simple;b2/[n+m+1];
336;12;AddLine;Input;
337;12;NameLine;Vu1;
338;12;Input 1 si/i*i;m1/[n];
339;12;Input 2 si/i*i simple;u1/[n];
340;12;AddLine;Input;
341;12;NameLine;Vu[n+1];
342;12;Input 1 si/i*i;m[n+2]/[n+m+1];
343;12;Input 2 si/i*i simple;u[n+2]/[n+m+1];
344;12;AddLine;Input;
345;12;NameLine;Vb1;
346;12;Input 1 si/i*i;m1/[n];
347;12;Input 2 si/i*i simple;b1/[n];
348;12;AddLine;Input;
349;12;NameLine;Vb[n+1];
350;12;Input 1 si/i*i;m[n+2]/[n+m+1];
351;12;Input 2 si/i*i simple;b[n+2]/[n+m+1];
352;12;AddLine;Input;
353;12;NameLine;Db1;
354;12;Input 1 si/i*i;m1/[n];
355;12;Input 2 si/i*i simple;b2/[n+1];
356;12;AddLine;Input;
357;12;Input 1 si/i*i;m[n+2]/[n+m+1];
358;12;Input 2 si/i*i simple;b[n+1]/[n+m];
359;12;AddLine;Input;
360;12;NameLine;Du1;
361;12;Input 1 si/i*i;m1/[n];
362;12;Input 2 si/i*i simple;u2/[n+1];
363;12;AddLine;Input;
364;12;Input 1 si/i*i;m[n+2]/[n+m+1];
365;12;Input 2 si/i*i simple;u[n+1]/[n+m];
366;12;AddLine;Input;
367;12;NameLine;V1;
368;12;Input 1 si/i*i;u[n+1];
369;12;Input 2 si/i*i simple;b[n+1];
370;12;AddLine;Input;
371;13;SetLine;0 0 0;
372;13;NameLine;Bu1;
373;13;Input 1 si/i*i;u1/[n+m];
374;13;Input 2 si/i*i simple;u2/[n+m+1];
375;13;AddLine;Input;
376;13;NameLine;Bb1;
377;13;Input 1 si/i*i;b1/[n+m];
378;13;Input 2 si/i*i simple;b2/[n+m+1];
379;13;AddLine;Input;
380;13;NameLine;V1;
381;13;Input 1 si/i*i;u1;
382;13;Input 2 si/i*i simple;b1;
383;13;AddLine;Input;
384;13;NameLine;Vu2;
385;13;Input 1 si/i*i;m2/[n];
386;13;Input 2 si/i*i simple;u2/[n];
387;13;AddLine;Input;
388;13;Input 1 si/i*i;m[n+1]/[n+m];
389;13;Input 2 si/i*i simple;u[n+1]/[n+m];
390;13;AddLine;Input;
391;13;NameLine;Vb2;
392;13;Input 1 si/i*i;m2/[n];
393;13;Input 2 si/i*i simple;b2/[n];
394;13;AddLine;Input;
395;13;Input 1 si/i*i;m[n+1]/[n+m];
396;13;Input 2 si/i*i simple;b[n+1]/[n+m];
397;13;AddLine;Input;
398;13;NameLine;V[n+m+1];
399;13;Input 1 si/i*i;u[n+m+1];
400;13;Input 2 si/i*i simple;b[n+m+1];
401;13;AddLine;Input;
402;13;NameLine;Db1;
403;13;Input 1 si/i*i;m2/[n+1];
404;13;Input 2 si/i*i simple;b1/[n];
405;13;AddLine;Input;
406;13;Input 1 si/i*i;m[n+1]/[n+m];
407;13;Input 2 si/i*i simple;b[n+2]/[n+m+1];
408;13;AddLine;Input;
409;13;NameLine;Du1;
410;13;Input 1 si/i*i;m2/[n+1];
411;13;Input 2 si/i*i simple;u1/[n];
412;13;AddLine;Input;
413;13;Input 1 si/i*i;m[n+1]/[n+m];
414;13;Input 2 si/i*i simple;u[n+2]/[n+m+1];
415;13;AddLine;Input;
416;14;SetLine;0 0 0;
417;14;NameLine;Bu1;
418;14;Input 1 si/i*i;u1/[n+m];
419;14;Input 2 si/i*i simple;u2/[n+m+1];
420;14;AddLine;Input;
421;14;NameLine;Bb1;
422;14;Input 1 si/i*i;b1/[n+m];
423;14;Input 2 si/i*i simple;b2/[n+m+1];
424;14;AddLine;Input;
425;14;NameLine;Vu1;
426;14;Input 1 si/i*i;m1/[n+m+1]*2;
427;14;Input 2 si/i*i simple;u1/[n+m+1]*2;
428;14;AddLine;Input;
429;14;NameLine;Vb1;
430;14;Input 1 si/i*i;m1/[n+m+1]*2;
431;14;Input 2 si/i*i simple;b1/[n+m+1]*2;
432;14;AddLine;Input;
433;14;NameLine;V1;
434;14;Input 1 si/i*i;u2/[n+m+1]*2;
435;14;Input 2 si/i*i simple;b2/[n+m+1]*2;
436;14;AddLine;Input;
437;14;NameLine;Du1;
438;14;Input 1 si/i*i;m1/[n+m]*2;
439;14;Input 2 si/i*i simple;u2/[n+m+1]*2;
440;14;AddLine;Input;
441;14;NameLine;Du101;
442;14;Input 1 si/i*i;m3/[n+m+1]*2;
443;14;Input 2 si/i*i simple;u2/[n+m]*2;
444;14;AddLine;Input;
445;14;NameLine;Db1;
446;14;Input 1 si/i*i;m1/[n+m]*2;
447;14;Input 2 si/i*i simple;b2/[n+m+1]*2;
448;14;AddLine;Input;
449;14;NameLine;Db101;
450;14;Input 1 si/i*i;m3/[n+m+1]*2;
451;14;Input 2 si/i*i simple;b2/[n+m]*2;
452;14;AddLine;Input;
453;15;SetLine;0 0 0;
454;15;NameLine;Bu1;
455;15;Input 1 si/i*i;u1/[n+m];
456;15;Input 2 si/i*i simple;u2/[n+m+1];
457;15;AddLine;Input;
458;15;NameLine;Bb1;
459;15;Input 1 si/i*i;b1/[n+m];
460;15;Input 2 si/i*i simple;b2/[n+m+1];
461;15;AddLine;Input;
462;15;NameLine;Vu1;
463;15;Input 1 si/i*i;m2/[n+m+1]*2;
464;15;Input 2 si/i*i simple;u2/[n+m+1]*2;
465;15;AddLine;Input;
466;15;NameLine;Vb1;
467;15;Input 1 si/i*i;m2/[n+m+1]*2;
468;15;Input 2 si/i*i simple;b2/[n+m+1]*2;
469;15;AddLine;Input;
470;15;NameLine;V1;
471;15;Input 1 si/i*i;u1/[n+m+1]*2;
472;15;Input 2 si/i*i simple;b1/[n+m+1]*2;
473;15;AddLine;Input;
474;15;NameLine;Du1;
475;15;Input 1 si/i*i;m2/[n+m+1]*2;
476;15;Input 2 si/i*i simple;u1/[n+m]*2;
477;15;AddLine;Input;
478;15;NameLine;Du101;
479;15;Input 1 si/i*i;m2/[n+m]*2;
480;15;Input 2 si/i*i simple;u3/[n+m+1]*2;
481;15;AddLine;Input;
482;15;NameLine;Db1;
483;15;Input 1 si/i*i;m2/[n+m+1]*2;
484;15;Input 2 si/i*i simple;b1/[n+m]*2;
485;15;AddLine;Input;
486;15;NameLine;Db101;
487;15;Input 1 si/i*i;m2/[n+m]*2;
488;15;Input 2 si/i*i simple;b3/[n+m+1]*2;
489;15;AddLine;Input;
490;16;NameCoordSys;co1;
491;16;SetCoordSys;cart 0 0 0 0 0 0 0 0 0;
492;16;AddCoordSys;Set;
493;16;Var xu;l/(n+m);
494;16;Var zu;hu/n;
495;16;Var xb;xu;
496;16;Var zb;hd/n;
497;16;SetPoint;CoordSys @ 0 0 0;
498;16;NamePoint;u1;
499;16;AddPoint;0 0 0;
500;16;Input 1 r*i;[xu]*[n];
501;16;Input 2 r*i simple;0;
502;16;Input 3 r*i simple;[zu]*[n];
503;16;Input 1 r*i;[xu]*[m];
504;16;Input 2 r*i simple;0;
505;16;Input 3 r*i simple;[-zu]*[m];
506;16;AddPoint;Input;
507;16;NamePoint;b1;
508;16;AddPoint;[xb/2] 0 [-h];
509;16;If n >;1;
510;16;Input 1 r*i;[xb]*[n-1];
511;16;Input 2 r*i simple;0;
512;16;Input 3 r*i simple;[zb]*[n-1];
513;16;AddPoint;Input;
514;16;endIf; ;
515;16;If m >;0;
516;16;AddPoint;[xb*n+xb/2] 0 [-h+zb*(n-1)];
517;16;endIf; ;
518;16;If m >;1;
519;16;Input 1 r*i;[xb]*[m-1];
520;16;Input 2 r*i simple;0;
521;16;Input 3 r*i simple;[-zb]*[m-1];
522;16;AddPoint;Input;
523;16;endIf; ;
524;17;NameCoordSys;co1;
525;17;SetCoordSys;cart 0 0 0 0 0 0 0 0 0;
526;17;AddCoordSys;Set;
527;17;Var xu;l/(n+m);
528;17;Var zu;hu/n;
529;17;Var a;sqr(xu^2+zu^2);
530;17;Var x1b;h*zu/a;
531;17;Var z1b;h*xu/a;
532;17;Var c;a^2/xu;
533;17;Var tanA;hd/(xu*n-x1b);
534;17;If hu <>;0;
535;17;Var tanB;zu/(c-xu);
536;17;Var xb;c*tanB/(tanA+tanB);
537;17;endIf; ;
538;17;If hu =;0;
539;17;Var xb;xu;
540;17;endIf; ;
541;17;Var zb;xb*tanA;
542;17;Var xn;xu*n-x1b-xb*(n-1)-xb/2;
543;17;Var zn;xn*tanA;
544;17;SetPoint;CoordSys @ 0 0 0;
545;17;NamePoint;u1;
546;17;AddPoint;0 0 0;
547;17;Input 1 r*i;[xu]*[n];
548;17;Input 2 r*i simple;0;
549;17;Input 3 r*i simple;[zu]*[n];
550;17;Input 1 r*i;[xu]*[m];
551;17;Input 2 r*i simple;0;
552;17;Input 3 r*i simple;[-zu]*[m];
553;17;AddPoint;Input;
554;17;NamePoint;b1;
555;17;AddPoint;[x1b+xb/2] 0 [-z1b+zb/2];
556;17;If n >;1;
557;17;Input 1 r*i;[xb]*[n-1];
558;17;Input 2 r*i simple;0;
559;17;Input 3 r*i simple;[zb]*[n-1];
560;17;endIf; ;
561;17;Input 1 r*i;[2*xn];
562;17;Input 2 r*i simple;0;
563;17;Input 3 r*i simple;0;
564;17;If m >;1;
565;17;Input 1 r*i;[xb]*[m-1];
566;17;Input 2 r*i simple;0;
567;17;Input 3 r*i simple;[-zb]*[m-1];
568;17;endIf; ;
569;17;AddPoint;Input;
570;18;NameCoordSys;co1;
571;18;SetCoordSys;cylin 0 0 0 0 0 0 0 0 90;
572;18;AddCoordSys;Set;
573;18;Var f;(-fi)/(n+m);
574;18;SetPoint;CoordSys @ 0 0 0;
575;18;NamePoint;u1;
576;18;AddPoint;[ru] [90-f*n] 0;
577;18;Input 1 r*i;0;
578;18;Input 2 r*i simple;[f]*[n+m];
579;18;Input 3 r*i simple;0;
580;18;AddPoint;Input;
581;18;NamePoint;b1;
582;18;AddPoint;[rd] [90-f*n+f/2] 0;
583;18;Input 1 r*i;0;
584;18;Input 2 r*i simple;[f]*[n+m-1];
585;18;Input 3 r*i simple;0;
586;18;AddPoint;Input;
587;19;SetLine;0 0 0;
588;19;NameLine;Bu1;
589;19;Input 1 si/i*i;u1/[n+m];
590;19;Input 2 si/i*i simple;u2/[n+m+1];
591;19;AddLine;Input;
592;19;If (n+m) >;1;
593;19;NameLine;Bb1;
594;19;Input 1 si/i*i;b1/[n+m-1];
595;19;Input 2 si/i*i simple;b2/[n+m];
596;19;AddLine;Input;
597;19;endIf; ;
598;19;NameLine;D1;
599;19;Input 1 si/i*i;b1/[n+m];
600;19;Input 2 si/i*i simple;u1/[n+m];
601;19;AddLine;Input;
602;19;Input 1 si/i*i;b1/[n+m];
603;19;Input 2 si/i*i simple;u2/[n+m+1];
604;19;AddLine;Input;
605;20;NameCoordSys;co1;
606;20;SetCoordSys;cart 0 0 0 0 0 0 0 0 0;
607;20;AddCoordSys;Set;
608;20;Var xu;l/(n+m);
609;20;Var zu;hu/n;
610;20;Var xb;xu;
611;20;Var zb;hd/n;
612;20;SetPoint;CoordSys @ 0 0 0;
613;20;NamePoint;u1;
614;20;AddPoint;[xu/2] 0 [zu/2];
615;20;If n >;1;
616;20;Input 1 r*i;[xu]*[n-1];
617;20;Input 2 r*i simple;0;
618;20;Input 3 r*i simple;[zu]*[n-1];
619;20;AddPoint;Input;
620;20;endIf; ;
621;20;AddPoint;[xu*(n)+xu/2] 0 [zu*(n-1)+zu/2];
622;20;If m >;1;
623;20;Input 1 r*i;[xu]*[m-1];
624;20;Input 2 r*i simple;0;
625;20;Input 3 r*i simple;[-zu]*[m-1];
626;20;AddPoint;Input;
627;20;endIf; ;
628;20;NamePoint;b1;
629;20;AddPoint;0 0 [-h];
630;20;Input 1 r*i;[xb]*[n];
631;20;Input 2 r*i simple;0;
632;20;Input 3 r*i simple;[zb]*[n];
633;20;Input 1 r*i;[xb]*[m];
634;20;Input 2 r*i simple;0;
635;20;Input 3 r*i simple;[-zb]*[m];
636;20;AddPoint;Input;
637;21;NameCoordSys;co1;
638;21;SetCoordSys;cart 0 0 0 0 0 0 0 0 0;
639;21;AddCoordSys;Set;
640;21;Var xb;l/(n+m);
641;21;Var zb;hd/n;
642;21;Var a;sqr(xb^2+zb^2);
643;21;Var x1u;-h*zb/a;
644;21;Var z1u;h*xb/a;
645;21;Var tanA;zb/xb;
646;21;Var tanB;hu/(xb*n+x1u);
647;21;Var B;atn(tanB);
648;21;Var C;B-atn(tanA);
649;21;Var xu;a*cos(B)/cos(C);
650;21;Var zu;a*sin(B)/cos(C);
651;21;Var xn;xb*n-x1u-xu*(n-1)-xu/2;
652;21;SetPoint;CoordSys @ 0 0 0;
653;21;NamePoint;b1;
654;21;AddPoint;0 0 0;
655;21;Input 1 r*i;[xb]*[n];
656;21;Input 2 r*i simple;0;
657;21;Input 3 r*i simple;[zb]*[n];
658;21;Input 1 r*i;[xb]*[m];
659;21;Input 2 r*i simple;0;
660;21;Input 3 r*i simple;[-zb]*[m];
661;21;AddPoint;Input;
662;21;NamePoint;u1;
663;21;AddPoint;[x1u+xu/2] 0 [z1u+zu/2];
664;21;If n >;1;
665;21;Input 1 r*i;[xu]*[n-1];
666;21;Input 2 r*i simple;0;
667;21;Input 3 r*i simple;[zu]*[n-1];
668;21;endIf; ;
669;21;Input 1 r*i;[2*xn];
670;21;Input 2 r*i simple;0;
671;21;Input 3 r*i simple;0;
672;21;If m >;1;
673;21;Input 1 r*i;[xu]*[m-1];
674;21;Input 2 r*i simple;0;
675;21;Input 3 r*i simple;[-zu]*[m-1];
676;21;endIf; ;
677;21;AddPoint;Input;
678;22;NameCoordSys;co1;
679;22;SetCoordSys;cylin 0 0 0 0 0 0 0 0 90;
680;22;AddCoordSys;Set;
681;22;Var f;(-fi)/(n+m);
682;22;SetPoint;CoordSys @ 0 0 0;
683;22;NamePoint;u1;
684;22;AddPoint;[ru] [90-f*n+f/2] 0;
685;22;Input 1 r*i;0;
686;22;Input 2 r*i simple;[f]*[n+m-1];
687;22;Input 3 r*i simple;0;
688;22;AddPoint;Input;
689;22;NamePoint;b1;
690;22;AddPoint;[rd] [90-f*n] 0;
691;22;Input 1 r*i;0;
692;22;Input 2 r*i simple;[f]*[n+m];
693;22;Input 3 r*i simple;0;
694;22;AddPoint;Input;
695;23;SetLine;0 0 0;
696;23;NameLine;Bu1;
697;23;Input 1 si/i*i;u1/[n+m-1];
698;23;Input 2 si/i*i simple;u2/[n+m];
699;23;AddLine;Input;
700;23;NameLine;Bb1;
701;23;Input 1 si/i*i;b1/[n+m];
702;23;Input 2 si/i*i simple;b2/[n+m+1];
703;23;AddLine;Input;
704;23;NameLine;D1;
705;23;Input 1 si/i*i;b1/[n+m];
706;23;Input 2 si/i*i simple;u1/[n+m];
707;23;AddLine;Input;
708;23;Input 1 si/i*i;b2/[n+m+1];
709;23;Input 2 si/i*i simple;u1/[n+m];
710;23;AddLine;Input;
711;24;SetLine;0 0 0;
712;24;NameLine;Bu1;
713;24;Input 1 si/i*i;u1/[n+m-1]*2;
714;24;Input 2 si/i*i simple;u3/[n+m+1]*2;
715;24;AddLine;Input;
716;24;NameLine;Bb1;
717;24;Input 1 si/i*i;b1/[n+m];
718;24;Input 2 si/i*i simple;b2/[n+m+1];
719;24;AddLine;Input;
720;24;NameLine;V1;
721;24;Input 1 si/i*i;b1/[n+m+1]*2;
722;24;Input 2 si/i*i simple;u1/[n+m+1]*2;
723;24;AddLine;Input;
724;24;NameLine;D1;
725;24;Input 1 si/i*i;u1/[n+m]*2;
726;24;Input 2 si/i*i simple;b2/[n+m+1]*2;
727;24;AddLine;Input;
728;24;NameLine;D101;
729;24;Input 1 si/i*i;u3/[n+m+1]*2;
730;24;Input 2 si/i*i simple;b2/[n+m]*2;
731;24;AddLine;Input;
732;25;SetLine;0 0 0;
733;25;NameLine;Bu1;
734;25;Input 1 si/i*i;u1/[n+m];
735;25;Input 2 si/i*i simple;u2/[n+m+1];
736;25;AddLine;Input;
737;25;NameLine;Bb1;
738;25;Input 1 si/i*i;b1/[n+m-1]*2;
739;25;Input 2 si/i*i simple;b3/[n+m+1]*2;
740;25;AddLine;Input;
741;25;NameLine;V1;
742;25;Input 1 si/i*i;b1/[n+m+1]*2;
743;25;Input 2 si/i*i simple;u1/[n+m+1]*2;
744;25;AddLine;Input;
745;25;NameLine;D1;
746;25;Input 1 si/i*i;u2/[n+m+1]*2;
747;25;Input 2 si/i*i simple;b1/[n+m]*2;
748;25;AddLine;Input;
749;25;NameLine;D101;
750;25;Input 1 si/i*i;u2/[n+m]*2;
751;25;Input 2 si/i*i simple;b3/[n+m+1]*2;
752;25;AddLine;Input;
753;26;SetLine;0 0 0;
754;26;NameLine;Bu1;
755;26;Input 1 si/i*i;u1/[n+m];
756;26;Input 2 si/i*i simple;u2/[n+m+1];
757;26;AddLine;Input;
758;26;NameLine;Bb1;
759;26;Input 1 si/i*i;b2/[n+m-1]*2;
760;26;Input 2 si/i*i simple;b4/[n+m+1]*2;
761;26;AddLine;Input;
762;26;NameLine;V1;
763;26;Input 1 si/i*i;b2/[n+m+1]*2;
764;26;Input 2 si/i*i simple;u2/[n+m+1]*2;
765;26;AddLine;Input;
766;26;NameLine;D1;
767;26;Input 1 si/i*i;u1/[n+m]*2;
768;26;Input 2 si/i*i simple;b2/[n+m+1]*2;
769;26;AddLine;Input;
770;26;NameLine;D101;
771;26;Input 1 si/i*i;u3/[n+m+1]*2;
772;26;Input 2 si/i*i simple;b2/[n+m]*2;
773;26;AddLine;Input;
774;27;SetLine;0 0 0;
775;27;NameLine;Bu1;
776;27;Input 1 si/i*i;u2/[n+m-1]*2;
777;27;Input 2 si/i*i simple;u4/[n+m+1]*2;
778;27;AddLine;Input;
779;27;NameLine;Bb1;
780;27;Input 1 si/i*i;b1/[n+m];
781;27;Input 2 si/i*i simple;b2/[n+m+1];
782;27;AddLine;Input;
783;27;NameLine;V1;
784;27;Input 1 si/i*i;b2/[n+m+1]*2;
785;27;Input 2 si/i*i simple;u2/[n+m+1]*2;
786;27;AddLine;Input;
787;27;NameLine;D1;
788;27;Input 1 si/i*i;u2/[n+m+1]*2;
789;27;Input 2 si/i*i simple;b1/[n+m]*2;
790;27;AddLine;Input;
791;27;NameLine;D101;
792;27;Input 1 si/i*i;u2/[n+m]*2;
793;27;Input 2 si/i*i simple;b3/[n+m+1]*2;
794;27;AddLine;Input;
795;28;NameLine;Bu1;
796;28;Input 1 si/i*i;u1/[2*n+2*m];
797;28;Input 2 si/i*i simple;u2/[2*n+2*m+1];
798;28;AddLine;Input;
799;28;NameLine;Bb1;
800;28;Input 1 si/i*i;b1/[2*n+2*m];
801;28;Input 2 si/i*i simple;b2/[2*n+2*m+1];
802;28;AddLine;Input;
803;28;NameLine;Vu1;
804;28;Input 1 si/i*i;m1/[2*n+2*m+1]*2;
805;28;Input 2 si/i*i simple;u1/[2*n+2*m+1]*2;
806;28;AddLine;Input;
807;28;NameLine;Vb1;
808;28;Input 1 si/i*i;m1/[2*n+2*m+1]*2;
809;28;Input 2 si/i*i simple;b1/[2*n+2*m+1]*2;
810;28;AddLine;Input;
811;28;NameLine;Du1;
812;28;Input 1 si/i*i;m1/[2*n+2*m]*2;
813;28;Input 2 si/i*i simple;u2/[2*n+2*m+1]*2;
814;28;AddLine;Input;
815;28;NameLine;Du101;
816;28;Input 1 si/i*i;m3/[2*n+2*m+1]*2;
817;28;Input 2 si/i*i simple;u2/[2*n+2*m]*2;
818;28;AddLine;Input;
819;28;NameLine;Db1;
820;28;Input 1 si/i*i;m1/[2*n+2*m]*2;
821;28;Input 2 si/i*i simple;b2/[2*n+2*m+1]*2;
822;28;AddLine;Input;
823;28;NameLine;Db101;
824;28;Input 1 si/i*i;m3/[2*n+2*m+1]*2;
825;28;Input 2 si/i*i simple;b2/[2*n+2*m]*2;
826;28;AddLine;Input;
827;29;SetLine;0 0 0;
828;29;NameLine;Bu1;
829;29;Input 1 si/i*i;u1/[n+m];
830;29;Input 2 si/i*i simple;u2/[n+m+1];
831;29;AddLine;Input;
832;29;NameLine;Bb1;
833;29;Input 1 si/i*i;b1/[n+m];
834;29;Input 2 si/i*i simple;b2/[n+m+1];
835;29;AddLine;Input;
836;29;NameLine;V1;
837;29;Input 1 si/i*i;b1/[n+m+1];
838;29;Input 2 si/i*i simple;u1/[n+m+1];
839;29;AddLine;Input;
840;29;NameLine;D1;
841;29;Input 1 si/i*i;u1/[n];
842;29;Input 2 si/i*i simple;b2/[n+1];
843;29;Input 1 si/i*i;u[n+1]/[n+m];
844;29;Input 2 si/i*i simple;b[n+2]/[n+m+1];
845;29;AddLine;Input;
846;29;Input 1 si/i*i;u2/[n+1];
847;29;Input 2 si/i*i simple;b1/[n];
848;29;Input 1 si/i*i;u[n+2]/[n+m+1];
849;29;Input 2 si/i*i simple;b[n+1]/[n+m];
850;29;AddLine;Input;
851;30;NameCoordSys;co1;
852;30;SetCoordSys;cart 0 0 0 0 0 0 0 0 0;
853;30;AddCoordSys;Set;
854;30;Var xu;l/(2*n+2*m);
855;30;Var xb;xu;
856;30;Var zu;hu/n/2;
857;30;Var aa;xu;
858;30;Var zb;hd/n/2;
859;30;Var xm;xu;
860;30;Var zm;(hu+hd)/(4*n);
861;30;SetPoint;CoordSys @ 0 0 0;
862;30;NamePoint;u1;
863;30;AddPoint;0 0 0;
864;30;Input 1 r*i;[xu]*[2*n];
865;30;Input 2 r*i simple;0;
866;30;Input 3 r*i simple;[zu]*[2*n];
867;30;Input 1 r*i;[xu]*[2*m];
868;30;Input 2 r*i simple;0;
869;30;Input 3 r*i simple;[-zu]*[2*m];
870;30;AddPoint;Input;
871;30;NamePoint;b1;
872;30;AddPoint;0 0 [-h];
873;30;Input 1 r*i;[xb]*[2*n];
874;30;Input 2 r*i simple;0;
875;30;Input 3 r*i simple;[zb]*[2*n];
876;30;Input 1 r*i;[xb]*[2*m];
877;30;Input 2 r*i simple;0;
878;30;Input 3 r*i simple;[-zb]*[2*m];
879;30;AddPoint;Input;
880;30;NamePoint;m1;
881;30;AddPoint;0 0 [-h/2];
882;30;Input 1 r*i;[xm]*[2*n];
883;30;Input 2 r*i simple;0;
884;30;Input 3 r*i simple;[zm]*[2*n];
885;30;Input 1 r*i;[xm]*[2*m];
886;30;Input 2 r*i simple;0;
887;30;Input 3 r*i simple;[-zm]*[2*m];
888;30;AddPoint;Input;
889;31;NameCoordSys;co1;
890;31;SetCoordSys;cart 0 0 0 0 0 0 0 0 0;
891;31;AddCoordSys;Set;
892;31;Var xu;l/(2*n+2*m);
893;31;Var zu;hu/n/2;
894;31;Var a;sqr(xu^2+zu^2);
895;31;Var x1b;h*zu/a;
896;31;Var z1b;h*xu/a;
897;31;Var c;a^2/xu;
898;31;Var tanA;hd/(xu*2*n-x1b);
899;31;If hu <>;0;
900;31;Var tanB;zu/(c-xu);
901;31;Var xb;c*tanB/(tanA+tanB);
902;31;endIf; ;
903;31;If hu =;0;
904;31;Var xb;xu;
905;31;endIf; ;
906;31;Var zb;xb*tanA;
907;31;Var xn;xu*2*n-x1b-xb*(2*n-1);
908;31;Var zn;xn*tanA;
909;31;Var x1m;x1b/2;
910;31;Var z1m;z1b/2;
911;31;Var tanC;(hd+hu)/(2*(xu*2*n-x1m));
912;31;If hu <>;0;
913;31;Var xm;c*tanB/(tanC+tanB);
914;31;endIf; ;
915;31;If hu =;0;
916;31;Var xm;xu;
917;31;endIf; ;
918;31;Var zm;xm*tanC;
919;31;Var xnm;xu*2*n-x1m-xm*(2*n-1);
920;31;Var znm;xnm*tanC;
921;31;SetPoint;CoordSys @ 0 0 0;
922;31;NamePoint;u1;
923;31;AddPoint;0 0 0;
924;31;Input 1 r*i;[xu]*[2*n];
925;31;Input 2 r*i simple;0;
926;31;Input 3 r*i simple;[zu]*[2*n];
927;31;Input 1 r*i;[xu]*[2*m];
928;31;Input 2 r*i simple;0;
929;31;Input 3 r*i simple;[-zu]*[2*m];
930;31;AddPoint;Input;
931;31;NamePoint;b1;
932;31;AddPoint;[x1b] 0 [-z1b];
933;31;Input 1 r*i;[xb]*[2*n-1];
934;31;Input 2 r*i simple;0;
935;31;Input 3 r*i simple;[zb]*[2*n-1];
936;31;Input 1 r*i;[xn];
937;31;Input 2 r*i simple;0;
938;31;Input 3 r*i simple;[zn];
939;31;Input 1 r*i;[xn];
940;31;Input 2 r*i simple;0;
941;31;Input 3 r*i simple;[-zn];
942;31;Input 1 r*i;[xb]*[2*m-1];
943;31;Input 2 r*i simple;0;
944;31;Input 3 r*i simple;[-zb]*[2*m-1];
945;31;AddPoint;Input;
946;31;NamePoint;m1;
947;31;AddPoint;[x1m] 0 [-z1m];
948;31;Input 1 r*i;[xm]*[2*n-1];
949;31;Input 2 r*i simple;0;
950;31;Input 3 r*i simple;[zm]*[2*n-1];
951;31;Input 1 r*i;[xnm];
952;31;Input 2 r*i simple;0;
953;31;Input 3 r*i simple;[znm];
954;31;Input 1 r*i;[xnm];
955;31;Input 2 r*i simple;0;
956;31;Input 3 r*i simple;[-znm];
957;31;Input 1 r*i;[xm]*[2*m-1];
958;31;Input 2 r*i simple;0;
959;31;Input 3 r*i simple;[-zm]*[2*m-1];
960;31;AddPoint;Input;
961;32;NameCoordSys;co1;
962;32;SetCoordSys;cylin 0 0 0 0 0 0 0 0 90;
963;32;AddCoordSys;Set;
964;32;Var f;(-fi)/(2*n+2*m);
965;32;SetPoint;CoordSys @ 0 0 0;
966;32;NamePoint;u1;
967;32;AddPoint;[ru] [90-f*2*n] 0;
968;32;Input 1 r*i;0;
969;32;Input 2 r*i simple;[f]*[2*n+2*m];
970;32;Input 3 r*i simple;0;
971;32;AddPoint;Input;
972;32;NamePoint;b1;
973;32;AddPoint;[rd] [90-f*2*n] 0;
974;32;Input 1 r*i;0;
975;32;Input 2 r*i simple;[f]*[2*n+2*m];
976;32;Input 3 r*i simple;0;
977;32;AddPoint;Input;
978;32;NamePoint;m1;
979;32;AddPoint;[(rd+ru)/2] [90-f*2*n] 0;
980;32;Input 1 r*i;0;
981;32;Input 2 r*i simple;[f]*[2*n+2*m];
982;32;Input 3 r*i simple;0;
983;32;AddPoint;Input;
984;33;NameCoordSys;co1;
985;33;NamePoint;u1;
986;33;NameCurve;c1;
987;33;Var xu;l/(n+m);
988;33;Var l1;xu*n;
989;33;If cu =;0;
990;33;SetCoordSys;cart 0 0 0 0 0 0 0 0 0;
991;33;AddCoordSys;Set;
992;33;Var zu;hu/n;
993;33;SetPoint;CoordSys @ 0 0 0;
994;33;AddPoint;0 0 0;
995;33;Input 1 r*i;[xu]*[n];
996;33;Input 2 r*i simple;0;
997;33;Input 3 r*i simple;[zu]*[n];
998;33;Input 1 r*i;[xu]*[m];
999;33;Input 2 r*i simple;0;
1000;33;Input 3 r*i simple;[-zu]*[m];
1001;33;AddPoint;Input;
1002;33;endIf; ;
1003;33;If cu =;1;
1004;33;Var r;(l1^2)/(2*hu)+hu/2;
1005;33;Var z0;-r+hu;
1006;33;SetCoordSys;cart 0 [l1] 0 [z0] 0 0 0 0 90;
1007;33;AddCoordSys;Set;
1008;33;endIf; ;
1009;33;If r >;0;
1010;33;SetCurve;circ [r] @;
1011;33;AddCurve;Set;
1012;33;SetPoint;Curve @ 0 0 0;
1013;33;AddPoint;[-l1] 1E+30 1;
1014;33;Input 1 r*i;[xu]*[n+m];
1015;33;AddPoint;Input;
1016;33;endIf; ;
1017;33;If r <;0;
1018;33;SetCurve;circ [-r] @;
1019;33;AddCurve;Set;
1020;33;SetPoint;Curve @ 0 0 0;
1021;33;AddPoint;[-l1] 1E+30 3;
1022;33;Input 1 r*i;[xu]*[n+m];
1023;33;AddPoint;Input;
1024;33;endIf; ;
1025;33;If cu =;2;
1026;33;SetCoordSys;cart 0 [l1] 0 0 0 0 0 0 90;
1027;33;AddCoordSys;Set;
1028;33;Var b;hu;
1029;33;endIf; ;
1030;33;If b >;0;
1031;33;SetCurve;elip [l1] [b] @;
1032;33;AddCurve;Set;
1033;33;SetPoint;Curve @ 0 0 0;
1034;33;AddPoint;[-l1] 1E+30 1;
1035;33;Input 1 r*i;[xu]*[n+m];
1036;33;AddPoint;Input;
1037;33;endIf; ;
1038;33;If b <;0;
1039;33;SetCurve;elip [l1] [-b] @;
1040;33;AddCurve;Set;
1041;33;SetPoint;Curve @ 0 0 0;
1042;33;AddPoint;[-l1] 1E+30 3;
1043;33;Input 1 r*i;[xu]*[n+m];
1044;33;AddPoint;Input;
1045;33;endIf; ;
1046;33;If cu =;3;
1047;33;SetCoordSys;cart 0 [l1] 0 0 0 0 0 0 90;
1048;33;AddCoordSys;Set;
1049;33;SetCurve;para [2*l1] [hu] @;
1050;33;AddCurve;Set;
1051;33;SetPoint;Curve @ 0 0 0;
1052;33;AddPoint;[-l1] 1E+30 1;
1053;33;Input 1 r*i;[xu]*[n+m];
1054;33;AddPoint;Input;
1055;33;endIf; ;
1056;33;If cu =;4;
1057;33;SetCoordSys;cart 0 0 0 0 0 0 0 0 90;
1058;33;AddCoordSys;Set;
1059;33;Var d;(hu/l1)^2/4;
1060;33;Var s;2*l1*(1+8*d/3-6.4*d^2);
1061;33;SetCurve;chain [2*l1] [s] 0 @;
1062;33;AddCurve;Set;
1063;33;SetPoint;Curve @ 0 0 0;
1064;33;AddPoint;0 1E+30 1;
1065;33;Input 1 r*i;[xu]*[n+m];
1066;33;AddPoint;Input;
1067;33;endIf; ;
1068;33;NamePoint;b1;
1069;33;Var xb;l/(n+m);
1070;33;If cd =;0;
1071;33;SetCoordSys;cart 0 0 0 0 0 0 0 0 0;
1072;33;AddCoordSys;Set;
1073;33;Var zb;hd/n;
1074;33;SetPoint;CoordSys co2 0 0 0;
1075;33;AddPoint;0 0 [-h];
1076;33;Input 1 r*i;[xb]*[n];
1077;33;Input 2 r*i simple;0;
1078;33;Input 3 r*i simple;[zb]*[n];
1079;33;Input 1 r*i;[xb]*[m];
1080;33;Input 2 r*i simple;0;
1081;33;Input 3 r*i simple;[-zb]*[m];
1082;33;AddPoint;Input;
1083;33;endIf; ;
1084;33;If cd =;1;
1085;33;Var rd;(l1^2)/(2*hd)+hd/2;
1086;33;Var z0d;-rd+hd-h;
1087;33;SetCoordSys;cart 0 [l1] 0 [z0d] 0 0 0 0 90;
1088;33;AddCoordSys;Set;
1089;33;endIf; ;
1090;33;If rd >;0;
1091;33;SetCurve;circ [rd] @;
1092;33;AddCurve;Set;
1093;33;SetPoint;Curve @ 0 0 0;
1094;33;AddPoint;[-l1] 1E+30 1;
1095;33;Input 1 r*i;[xb]*[n+m];
1096;33;AddPoint;Input;
1097;33;endIf; ;
1098;33;If rd <;0;
1099;33;SetCurve;circ [-rd] @;
1100;33;AddCurve;Set;
1101;33;SetPoint;Curve @ 0 0 0;
1102;33;AddPoint;[-l1] 1E+30 3;
1103;33;Input 1 r*i;[xb]*[n+m];
1104;33;AddPoint;Input;
1105;33;endIf; ;
1106;33;If cd =;2;
1107;33;SetCoordSys;cart 0 [l1] 0 [-h] 0 0 0 0 90;
1108;33;AddCoordSys;Set;
1109;33;Var bd;hd;
1110;33;endIf; ;
1111;33;If bd >;0;
1112;33;SetCurve;elip [l1] [bd] @;
1113;33;AddCurve;Set;
1114;33;SetPoint;Curve @ 0 0 0;
1115;33;AddPoint;[-l1] 1E+30 1;
1116;33;Input 1 r*i;[xb]*[n+m];
1117;33;AddPoint;Input;
1118;33;endIf; ;
1119;33;If bd <;0;
1120;33;SetCurve;elip [l1] [-bd] @;
1121;33;AddCurve;Set;
1122;33;SetPoint;Curve @ 0 0 0;
1123;33;AddPoint;[-l1] 1E+30 3;
1124;33;Input 1 r*i;[xb]*[n+m];
1125;33;AddPoint;Input;
1126;33;endIf; ;
1127;33;If cd =;3;
1128;33;SetCoordSys;cart 0 [l1] 0 [-h] 0 0 0 0 90;
1129;33;AddCoordSys;Set;
1130;33;SetCurve;para [2*l1] [hd] @;
1131;33;AddCurve;Set;
1132;33;SetPoint;Curve @ 0 0 0;
1133;33;AddPoint;[-l1] 1E+30 1;
1134;33;Input 1 r*i;[xb]*[n+m];
1135;33;AddPoint;Input;
1136;33;endIf; ;
1137;33;If cd =;4;
1138;33;SetCoordSys;cart 0 0 0 [-h] 0 0 0 0 90;
1139;33;AddCoordSys;Set;
1140;33;Var dd;(hd/l1)^2/4;
1141;33;Var sd;2*l1*(1+8*dd/3-6.4*dd^2);
1142;33;SetCurve;chain [2*l1] [sd] 0 @;
1143;33;AddCurve;Set;
1144;33;SetPoint;Curve @ 0 0 0;
1145;33;AddPoint;0 1E+30 1;
1146;33;Input 1 r*i;[xb]*[n+m];
1147;33;AddPoint;Input;
1148;33;endIf; ;
1149;34;NameCoordSys;co1;
1150;34;NamePoint;u1;
1151;34;NameCurve;c1;
1152;34;Var xu;l/(n+m);
1153;34;Var l1;xu*n;
1154;34;If cu =;0;
1155;34;SetCoordSys;cart 0 0 0 0 0 0 0 0 0;
1156;34;AddCoordSys;Set;
1157;34;Var zu;hu/n;
1158;34;SetPoint;CoordSys @ 0 0 0;
1159;34;AddPoint;0 0 0;
1160;34;Input 1 r*i;[xu]*[n];
1161;34;Input 2 r*i simple;0;
1162;34;Input 3 r*i simple;[zu]*[n];
1163;34;Input 1 r*i;[xu]*[m];
1164;34;Input 2 r*i simple;0;
1165;34;Input 3 r*i simple;[-zu]*[m];
1166;34;AddPoint;Input;
1167;34;endIf; ;
1168;34;If cu =;1;
1169;34;Var r;(l1^2)/(2*hu)+hu/2;
1170;34;Var z0;-r+hu;
1171;34;SetCoordSys;cart 0 [l1] 0 [z0] 0 0 0 0 90;
1172;34;AddCoordSys;Set;
1173;34;endIf; ;
1174;34;If r >;0;
1175;34;SetCurve;circ [r] @;
1176;34;AddCurve;Set;
1177;34;SetPoint;Curve @ 0 0 0;
1178;34;AddPoint;[-l1] 1E+30 1;
1179;34;Input 1 r*i;[xu]*[n+m];
1180;34;AddPoint;Input;
1181;34;endIf; ;
1182;34;If r <;0;
1183;34;SetCurve;circ [-r] @;
1184;34;AddCurve;Set;
1185;34;SetPoint;Curve @ 0 0 0;
1186;34;AddPoint;[-l1] 1E+30 3;
1187;34;Input 1 r*i;[xu]*[n+m];
1188;34;AddPoint;Input;
1189;34;endIf; ;
1190;34;If cu =;2;
1191;34;SetCoordSys;cart 0 [l1] 0 0 0 0 0 0 90;
1192;34;AddCoordSys;Set;
1193;34;Var b;hu;
1194;34;endIf; ;
1195;34;If b >;0;
1196;34;SetCurve;elip [l1] [b] @;
1197;34;AddCurve;Set;
1198;34;SetPoint;Curve @ 0 0 0;
1199;34;AddPoint;[-l1] 1E+30 1;
1200;34;Input 1 r*i;[xu]*[n+m];
1201;34;AddPoint;Input;
1202;34;endIf; ;
1203;34;If b <;0;
1204;34;SetCurve;elip [l1] [-b] @;
1205;34;AddCurve;Set;
1206;34;SetPoint;Curve @ 0 0 0;
1207;34;AddPoint;[-l1] 1E+30 3;
1208;34;Input 1 r*i;[xu]*[n+m];
1209;34;AddPoint;Input;
1210;34;endIf; ;
1211;34;If cu =;3;
1212;34;SetCoordSys;cart 0 [l1] 0 0 0 0 0 0 90;
1213;34;AddCoordSys;Set;
1214;34;SetCurve;para [2*l1] [hu] @;
1215;34;AddCurve;Set;
1216;34;SetPoint;Curve @ 0 0 0;
1217;34;AddPoint;[-l1] 1E+30 1;
1218;34;Input 1 r*i;[xu]*[n+m];
1219;34;AddPoint;Input;
1220;34;endIf; ;
1221;34;If cu =;4;
1222;34;SetCoordSys;cart 0 0 0 0 0 0 0 0 90;
1223;34;AddCoordSys;Set;
1224;34;Var d;(hu/l1)^2/4;
1225;34;Var s;2*l1*(1+8*d/3-6.4*d^2);
1226;34;SetCurve;chain [2*l1] [s] 0 @;
1227;34;AddCurve;Set;
1228;34;SetPoint;Curve @ 0 0 0;
1229;34;AddPoint;0 1E+30 1;
1230;34;Input 1 r*i;[xu]*[n+m];
1231;34;AddPoint;Input;
1232;34;endIf; ;
1233;34;NamePoint;b1;
1234;34;Var xb;l/(n+m);
1235;34;If cd =;0;
1236;34;SetCoordSys;cart 0 0 0 0 0 0 0 0 0;
1237;34;AddCoordSys;Set;
1238;34;Var zb;hd/n;
1239;34;SetPoint;CoordSys co2 0 0 0;
1240;34;AddPoint;[xb/2] 0 [-h];
1241;34;If n >;1;
1242;34;Input 1 r*i;[xb]*[n-1];
1243;34;Input 2 r*i simple;0;
1244;34;Input 3 r*i simple;[zb]*[n-1];
1245;34;AddPoint;Input;
1246;34;endIf; ;
1247;34;If cd =;0;
1248;34;If m >;0;
1249;34;AddPoint;[xb*n+xb/2] 0 [-h+zb*(n-1)];
1250;34;If m >;1;
1251;34;Input 1 r*i;[xb]*[m-1];
1252;34;Input 2 r*i simple;0;
1253;34;Input 3 r*i simple;[-zb]*[m-1];
1254;34;AddPoint;Input;
1255;34;endIf; ;
1256;34;If cd =;1;
1257;34;Var rd;(l1^2)/(2*hd)+hd/2;
1258;34;Var z0d;-rd+hd-h;
1259;34;SetCoordSys;cart 0 [l1] 0 [z0d] 0 0 0 0 90;
1260;34;AddCoordSys;Set;
1261;34;endIf; ;
1262;34;If rd >;0;
1263;34;SetCurve;circ [rd] @;
1264;34;AddCurve;Set;
1265;34;SetPoint;Curve @ 0 0 0;
1266;34;AddPoint;[-l1+xb/2] 1E+30 1;
1267;34;Input 1 r*i;[xb]*[n+m-1];
1268;34;AddPoint;Input;
1269;34;endIf; ;
1270;34;If rd <;0;
1271;34;SetCurve;circ [-rd] @;
1272;34;AddCurve;Set;
1273;34;SetPoint;Curve @ 0 0 0;
1274;34;AddPoint;[-l1+xb/2] 1E+30 3;
1275;34;Input 1 r*i;[xb]*[n+m-1];
1276;34;AddPoint;Input;
1277;34;endIf; ;
1278;34;If cd =;2;
1279;34;SetCoordSys;cart 0 [l1] 0 [-h] 0 0 0 0 90;
1280;34;AddCoordSys;Set;
1281;34;Var bd;hd;
1282;34;endIf; ;
1283;34;If bd >;0;
1284;34;SetCurve;elip [l1] [bd] @;
1285;34;AddCurve;Set;
1286;34;SetPoint;Curve @ 0 0 0;
1287;34;AddPoint;[-l1+xb/2] 1E+30 1;
1288;34;Input 1 r*i;[xb]*[n+m-1];
1289;34;AddPoint;Input;
1290;34;endIf; ;
1291;34;If bd <;0;
1292;34;SetCurve;elip [l1] [-bd] @;
1293;34;AddCurve;Set;
1294;34;SetPoint;Curve @ 0 0 0;
1295;34;AddPoint;[-l+xb/2] 1E+30 3;
1296;34;Input 1 r*i;[xb]*[n+m-1];
1297;34;AddPoint;Input;
1298;34;endIf; ;
1299;34;If cd =;3;
1300;34;SetCoordSys;cart 0 [l1] 0 [-h] 0 0 0 0 90;
1301;34;AddCoordSys;Set;
1302;34;SetCurve;para [2*l1] [hd] @;
1303;34;AddCurve;Set;
1304;34;SetPoint;Curve @ 0 0 0;
1305;34;AddPoint;[-l1+xb/2] 1E+30 1;
1306;34;Input 1 r*i;[xb]*[n+m-1];
1307;34;AddPoint;Input;
1308;34;endIf; ;
1309;34;If cd =;4;
1310;34;SetCoordSys;cart 0 0 0 [-h] 0 0 0 0 90;
1311;34;AddCoordSys;Set;
1312;34;Var dd;(hd/l1)^2/4;
1313;34;Var sd;2*l1*(1+8*dd/3-6.4*dd^2);
1314;34;SetCurve;chain [2*l1-xb] [sd] 0 @;
1315;34;AddCurve;Set;
1316;34;SetPoint;Curve @ 0 0 0;
1317;34;AddPoint;0 1E+30 1;
1318;34;Input 1 r*i;[xb]*[n+m-1];
1319;34;AddPoint;Input;
1320;34;endIf; ;
